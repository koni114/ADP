### 통계 분석
#### 통계학 개론
##### 통계학의 정의
* 자료로부터 유용한 정보를 이끌어 내는 학문
##### 모집단과 표본
* 유용한 정보의 대상이 되는 것을 모집단이라고 함
* 모집단을 구성하는 개체를 추출단위 혹은 원소라고 함
* 모집단에 대해 조사하는 방법은 크게 총조사와 표본조사로 나뉨
  * 총조사 : 모집단의 개체 모두를 조사하는 방법
  * 표본조사 : 일부분만 조사하여 모집단에 대해 추론
 * 모집단에 대해서 알고자 하는 값을 모수(parameter)라고 함

##### 표본추출의 방법
* 모집단의 정의, 표본의 크기, 조사방법(면접조사, 우편조사, 전화조사, 이메일 조사 등), 조사기간, 표본추출 방법을 명확하게 밝히거나 확인해야 함
* 표본 추출이 표본조사에서 가장 중요
* 표본 추출은 단순랜덤추출법, 계통추출법, 집락추출법, 층화추출법 등이 있음
  * 단순랜덤추출법 : 단순 임의 추출
  * 계통추출법 : n개의 구간으로 나누고 첫 구간에서 하나를 임의로 선택한 후에 K개씩 띄어서 표본 추출
  * 집락추출법 : cluster를 생성하고 해당 군집에서 랜덤으로 선택하는 방법
  * 층화추출법 : 각 계층에서 고루 대표할 수 있는 표본을 추출하는 방법
* 표본조사 이외에 자료를 수집하는 방법으로 '실험' 도 있음

##### 자료의 종류
* 표본조사나 실험을 실시하는 과정에서 추출된 원소들이나 실험 단위로부터 주어진 목적에 적합하도록 관측해 자료를 얻는 것을 측정(measurement)이라고 함
* 측정방법은 명목척도(nominal scale), 순서 척도(ordinal scale),  간격 척도(interval scale), 비율 척도(ratio scale) 로 구분
* 명목척도, 순서척도 -> 질적 자료(qualitative data)
* 구간척도, 비율척도 -> 양적 자료(quantative data)
  * 명목척도 : 성별 구분, 출생지
  * 순서척도 : 선택사항이 순서로 돼 있음
  * 구간척도 : 온도, 지수
  * 비율척도 : 절대적 기준인 0값이 존재, 사칙연산 가능

#### 통계 분석
* 의사결정 -> 통계적 추론이라고 함
* 추정 : 대상 집단의 특성값이 무엇일까? 를 추측
* 가설검정 : 대상 집단에 대해 특정한 가설을 설정한 후에 가설의 채택여부를 결정
* 기술통계(descriptive statistics) : 통계적 추론 이외에도 수집된 자료를 정리, 요약하기 위해 사용되는 기초적인 통계

#### 확률 및 확률분포
##### 확률의 정의
* 확률이란 '특정사건이 일어날 가능성의 척도'라고 정의
* 통계적 실험을 실시할 때 나타날 수 있는 모든 결과들의 집합 :  표본공간(sample space)
* 표본공간의 부분집합 : 사건(event), 오직 한 개의 원소만 이루어진 사건 : 근원사건
* 확률은 3가지 조건을 만족함
  * 모든 사건 E의 확률 값은 0과 1사이에 있음
  * 전체 집합의 확률은 1
  * 서로 배반인 사건들의 합집합의 확률은 각 사건들의 확률의 합
##### 조건부 확률과 독립사건
* P(B|A)  = P(A n B) / P(A)
* 독립인 경우, P( A n B  ) = P(A) * P(B)
* 확률변수
  * 이산형 확률변수(discrete random variable) : 점들의 확률의 합
  * 연속형 확률변수(continuous random variable) : 함수의 면적의 확률의 합
 * 결합확률분포(joint probability distribution) : 두 확률변수 X, Y의 결합확률분포
* 이산형 확률분포
  * 베르누이 확률분포
  * 이항분포
  * 기하분포
  * 다항분포
  * 포아송분포
* 연속형 확률분포
  * 균일분포
  * 정규분포
  * 지수분포
  * t-분포, F-분포, chi 분포

#### 추정과 가설검정
* 통계적 방법을 통해서 알고자하는 대상은 모집단의 확률분포
* 모집단의 확률분포의 특징을 표현하는 값들을 모수(parameter)라고 함
* 대표적인 모수의 예 : 평균, 분산, 표준편차, 백분위수
* 추정은 점추정과 구간추정으로 나눔

#### 가설검정
* 가설검정이란 모집단에 대한 어떤 가설을 설정한 뒤에 표본관찰을 통해 그 가설의 채택여부를 결정하는 분석 방법
* 귀무가설과 대립가설 두 가지로 설정
*  확실하게 증명하고 싶은 가설, 뚜렷한 증거가 있어야 채택할 수 있는 가설, 결과가 값비싼 가설 -> 대립가설
* 검정에 사용되는 통계량 --> 검정통계량
*  귀무가설이 사실 일 때, 관측된 검정통계량의 값보다 더 대립가설을 지지하는 검정통계량이 나올 확률을 p값이라고 함
* 기각역(C) : 귀무가설을 기각하는 통계량의 영역
* 일반적으로 가설검정에서는 제1종 오류 a의 크기를 0.1, 0.05, 0.01 등으로 고정시킨 뒤에 제2종 오류 b가 최소가 되도록 기각역을 설정

#### 비모수 검정
* 모수적 검정방법 : 검정하고자 하는 모집단에 대한 분포 가정을 하고, 그 가정 하에서 검정통계량과 검정통계량의 분포를 유도해 검정하는 방법
* 비모수적 검정 : 모집단의 분포 제약 없이 검정을 실시
  * 쌍으로 관측된 표본에 대한 부호검정, 윌콕슨의 순위합검정, 윌콕슨의 부호순위합검정, 만-위트니의 U검정, 런검정, 스피어만의 순위상관계수 등

### 시계열 예측
#### 정상성
* 시간의 흐름에 따라서 관측된 데이터를 시계열자료 라고 함
* 시계열분석을 위해서는 정상성(Stationary)을 만족해야함
* 정상성은 시점에 상관없이 시계열의 특성이 일정하다는 것 . 다음을 만족해야 함
  * 평균이 일정하다
  * 분산이 시점에 의존하지 않음
  * 공분산은 단지 시차에만 의존하고 시점 자체에는 의존하지 않음
* 위의 정상성 조건을 하나라도 만족하지 않으면 비정상 시계열이라고 부르는데, 대부분의 시계열 자료는 비정상 시계열 자료
* 비정상 시계열 자료는 정상성을 만족하도록 데이터를 정상 시계열 자료로 만든 후에 시계열 분석 수행
* 주어진 시계열 자료가 정상성을 만족하는지 판단 과정이 필요
  * 시계열 자료 그림을 통해 자료의 outlier와 Intervention을 살핌
    * outlier --> 해당 이상 값을 제거
    * Intervention --> 회귀 분석 수행
  * 평균이 일정하지 않은 경우에는 차분(Difference)를 통해 비정상 시계열 -> 정상 시계열로 수행
  * 시간에 따라 분산이 일정하지 않는 경우에는 Transformation을 통해 정상 시계열로 바꿀 수 있음
* 차분(Difference) : 현 시점의 자료값에서 전 시점의 자료값을 빼는 것을 말함
* 계절 차분(Seasonal Difference) : 여러 시점 전의 자료를 빼는 것을 말함. 계절성을 갖는 비정상 시계열을 정상 시계열로 바꿀 때 계절차분 사용

#### 시계열 모형
##### 자귀회귀 모형(AR 모형)
* 자귀회귀모형(Autoregressive model)은 현 시점의 자료가 p 시점 전의 유한개의 과거 자료로 설명 될 수 있다는 의미이며 AR(p) 모형이라 함
* 자기회귀모형은 현 시점의 시계열 자료에 몇 번째 전 자료까지 영향을 주는지 알아내는데 있음
* 과거 1시점까지 영향을 주는 경우 --> 1차 자기회귀모형, AR(1) 이라고 함
* 과거 2시점까지 영향을 주는 경우 --> 2차 자기회귀모형, AR(2) 이라고 함
* 자기회귀모형인지 판단하기 위한 모형 식별을 위해 자기상관함수(ACF, Auto-Correlation Function)과 부분자기상관함수(PACF, Partial Auto-Correlation Function)을 이용하여 식별
* 일반적으로 자기회귀모형은 자기상관함수는 시차가 증가함에 따라 점차적으로 감소  
부분자기상관함수는 p+1 시차 이후 급격히 감소하여 절단된 형태이며, 이를 AR(p) 모형이라고 판별

##### 이동평균모형(MA 모형)
* 자기회귀모형과 마찬가지로 자기상관함수와 부분자기상관함수를 이용하여 식별
* 이동평균모형은 자기회귀모형과는 반대로 자기상관함수는 p+1 시차 이후 절단된 형태이고, 이 때를 MA(p) 모형이라 볼 수 있음

##### 자기회귀누적이동평균모형(ARIMA 모형)
* 대부분의 많은 시계열자료가 ARIMA 모형을 따름
* ARIMA 모형은 기본적으로 비정상 시계열 모형이기 때문에 차분이나 변환을 통해 AR 모형이나 MA 모형, ARMA 모형으로 정상화할 수 있음
* ARIMA(p,d,q) 는 차수 p,d,q의 값에 따라 모형의 이름이 다르게 됨
  * p : AR 모형과 관련이 있음
  * q : MA 모형과 관련이 있는 차수
  * d : ARIMA에서 ARMA로 정상화할 때 몇 번 차분 했는지 의미
* d = 0 이면 ARMA(p,q) 모형이라 부르고, 이 모형은 정상성 만족
* p = 0 이면 IMA(d,q) 모형이라 부르고 ,이 모형을 d번 차분하면 MA(q) 모형이 됨
* q = 0 이면 ARI(p,d) 모형이며 이를 d번 차분한 시계열 모형이 AR(p) 모형이 됨

##### 분해 시계열
* 시계열에 영향을 주는 일반적인 요인을 분리해 분석하는 방법
* 시계열을 구성하는 요소는 다음 4가지로 분류
  * 추세요인 : 자료를 그렸을 때 오르거나, 내리는 추세를 따르는 경우가 있음. 2차식의 형태를 띌 수도 있음
  * 계절요인 : 고정된 주기에 따라 자료가 변화하는 경우
  * 순환요인 : 알려지지 않는 주기를 가지고 변화하는 자료가 있을 때 순환요인이 있다고 함
  * 불규칙요인 : 위의 3가지 요인으로 설명할 수 없는 요인
